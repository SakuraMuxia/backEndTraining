<!DOCTYPE html>
<!--添加这行可以在编辑器中提示语法-->
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>水果库存管理系统</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</head>
<body class="bg-light">
    <!-- 页面标题 -->
    <h2 class="text-center mb-4">水果列表</h2>
    <!-- 水果列表 -->
    <!-- 水果列表表格 -->
    <div class="container py-4 d-flex justify-content-center">
        <div class="card shadow-sm" style="width: 60%; background-color: #f5f7fa;">
            <div class="card-header bg-success text-white">水果清单</div>
            <div class="card-body p-0">
                <table class="table table-striped table-hover align-middle mb-0">
                    <thead class="table-dark">
                    <tr>
                        <th>编号</th>
                        <th>名称</th>
                        <th>价格</th>
                        <th>库存</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <!-- 遍历水果列表 这里默认使用请求域中数据 -->
                    <!--
                        th:each 表示准备迭代
                        ${} 这是thymeleaf的语法，表示thymeleaf表达式
                        session.key 相当于  session.getAttribute(key)
                        :  冒号相当于增强for循环中的冒号  , fruit是临时变量
                    -->
                    <!--
                        th:if  表示分支判断   对应的有 th:unless
                        #lists 是一个公共的内置对象（工具类）
                    -->
                    <!--
                         ${fruit.price}
                         这里的.属性名  是一种语法，称之为OGNL语法 。 实际上是调用这个对象的属性的getter方法
                         OGNL: Object Graphic Navigation Language   对象图导航语言
                    -->
                    <tr th:if="${not #lists.isEmpty(session.fruitList)}" th:each="fruit : ${session.fruitList}">
                        <td th:text="${fruit.id}"></td>
                        <td th:text="${fruit.fname}"></td>
                        <td th:text="${fruit.price}"></td>
                        <td th:text="${fruit.count}"></td>
                        <td>
                            <!-- 删除按钮 -->
                            <a th:href="@{/fruit/delete(id=${fruit.id})}"
                               class="btn btn-danger btn-sm"
                               onclick="return confirm('确定要删除这个水果吗？');">删除</a>
                        </td>
                    </tr>
                    <!--空数据展示-->
                    <tr th:unless="${not #lists.isEmpty(session.fruitList)}">
                        <td colspan="5">对不起，库存为空！</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>
<script>

</script>
</html>